# 웹소켓과 SSE

<br />

웹소켓(WebSocket)과 SSE(Server-Sent Events)는 **클라이언트와 서버 간의 실시간 데이터 통신**을 위한 기술이다.

<br />

## HTTP 통신 구조

기본적으로 웹은 클라이언트 → 서버로 요청(request)을 보내고, 서버는 응답(response)을 주는 구조다. 즉 서버는 클라이언트의 요청이 있어야만 응답할 수 있다.

이 구조는 실시간 알림, 채팅, 주식 가격 업데이트 같은 서버 → 클라이언트로의 실시간 전달에는 한계가 있다.

<br />

## WebSocket

웹소켓은 **양방향 통신(Full-duplex)** 을 가능하게 해주는 기술이다. 즉 클라이언트도 서버에 메시지를 보내고, 서버도 클라이언트에 자유롭게 메시지를 보낼 수 있다.

<br />

**동작 방식**

1. 처음에 클라이언트가 HTTP 요청으로 웹소켓 연결을 시도한다. (handshake)
2. 서버가 이를 업그레이드해서 웹소켓 연결을 수립한다.
3. 이후부터는 지속적인 연결 상태를 유지하면서 양쪽이 자유롭게 메시지를 주고받을 수 있다.

<br />

**특징**

- 양방향 통신이 가능하다.
- 연결이 끊기지 않고 유지된다.
- 실시간성이 뛰어나다. (예: 채팅, 게임, 협업 도구 등)

<br />

## SSE (Server-Sent Events)

SSE는 **서버에서 클라이언트로만 일방향으로 데이터를 푸시**할 수 있는 기술이다. 클라이언트가 연결을 열어두면 서버가 필요할 때마다 데이터를 밀어주는 방식이다.

<br />

**동작 방식**

1. 클라이언트가 서버에 HTTP 요청으로 연결을 시작한다.
2. 서버는 응답을 닫지 않고 필요할 때마다 데이터를 이벤트 형태로 보낸다.
3. 연결이 끊어지면 자동으로 다시 연결을 시도한다.

<br />

**특징**

- 단방향 통신 (서버 → 클라이언트만 가능)
- HTTP 기반이라 별도 프로토콜이 필요 없다.
- 자동 재연결 기능이 기본 제공된다.
- 브라우저 호환성이 뛰어나다.
- 실시간 알림, 뉴스 피드, 실시간 주가/날씨 등에 적합하다.

<br />

<aside>
💡

**WebSocket과 SSE 선택 기준**

**WebSocket**은 양방향 소통이 필요한 경우, **SSE**는 서버에서 클라이언트로 알림만 필요한 경우 적합하다.

</aside>
